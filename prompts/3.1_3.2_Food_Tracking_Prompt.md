# Vibe Engineering Prompt: Food Tracking (Supabase + Vision AI)

## Context
You are building the "Logging Layer." It turns a photo of a plate of food into a nutrient log and a motivational health insight.

## Instructions
- Create a `food_logs` table:
    - `id` (UUID)
    - `user_id` (UUID)
    - `image_url` (Text)
    - `detected_ingredients` (JSONB)
    - `estimated_nutrients` (JSONB)
    - `biomarker_impact` (Text)
    - `created_at` (Timestamp)

## Backend Logic (Cursor Instructions)
1. **Vision Processing:** When a photo is uploaded to the `food-photos` bucket, trigger an Edge Function.
2. **AI Analysis:** Send the image to a Vision LLM.
    - Prompt: "Identify the food in this photo. List ingredients and estimate calories, protein, carbs, fats. Most importantly, identify if any ingredients help with [User's Top 3 Biomarker Needs]. Return as JSON."
3. **Impact Feedback:** The Edge Function should generate a short, punchy sentence for the UI: "Great choice! The spinach in this salad is exactly what you need for your Iron levels."
4. **Persistence:** Save the full analysis to the `food_logs` table.

## Vibe Guidelines
- The feedback should be instant and positive.
- If the AI is unsure of an ingredient, it should ask the user for clarification rather than guessing wildly.
- Focus on the "Biomarker Win" (e.g., "Vitamin D +1") to gamify the experience.
