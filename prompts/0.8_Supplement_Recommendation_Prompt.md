# Vibe Engineering Prompt: Supplement Recommendation (Supabase + AI)

## Context
You are building the "Supplement Advisor" for the app. This feature provides intelligent, optional supplement recommendations based on biomarker data.

## Instructions
- Create a `supplements` table:
    - `id` (UUID)
    - `name` (Text, Unique)
    - `biomarker_target` (Text - e.g., 'Vitamin D')
    - `dose_range` (Text - e.g., '1000-2000 IU')
    - `rationale` (Text)
    - `priority_score` (Smallint - 1-5, 5 being highest)

## Backend Logic (Cursor Instructions)
1. **Recommendation Trigger:** When the Biomarker Interpretation Engine identifies a deficiency, it should trigger a call to the Supplement Recommendation Engine.
2. **Database Lookup:** Query the `supplements` table based on the deficient `biomarker_target`.
3. **AI Refinement:** Use an LLM to refine the recommendation message, ensuring it's clear, non-prescriptive, and emphasizes consulting a healthcare professional.
    - Prompt: "Given the user's [Biomarker] deficiency, recommend [Supplement Name] with dosage [Dose Range]. Explain the rationale and add a disclaimer about consulting a doctor. Keep it concise and supportive."
4. **Personalization:** Consider user preferences (e.g., vegetarian supplements) if such data is available in the `profiles` table.

## Vibe Guidelines
- Recommendations should be presented as helpful suggestions, not medical advice.
- Always include a disclaimer about consulting a healthcare professional before starting any new supplement regimen.
- The tone should be informative and empowering, not pushy.
